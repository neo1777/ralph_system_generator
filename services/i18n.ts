import { AppLanguage, InterfaceType, CliTool } from '../types';

type TranslationKey =
  | 'appTitle' | 'subTitle' | 'configTitle' | 'projectName' | 'goal' | 'goalPlaceholder'
  | 'goalHelp' | 'model' | 'modelHelp' | 'interface' | 'cliTool' | 'cliToolHelp'
  | 'capabilities' | 'devBrowser' | 'devBrowserHelp' | 'generateBtn'
  | 'freshContextTitle' | 'freshContextDesc' | 'generatedAssets' | 'filesCreated'
  | 'emptyStateTitle' | 'emptyStateDesc' | 'uiLang' | 'outputLang' | 'whyFreshContext'
  | 'uploadLabel' | 'uploadHelp' | 'filesAttached' | 'presetsTitle'
  | 'presetPlaceholder' | 'diffBeginner' | 'diffIntermediate' | 'diffAdvanced' | 'diffExpert'
  // Theme
  | 'themeLabel' | 'themeLight' | 'themeDark'
  // Small UI Labels
  | 'lbl_code' | 'tip_download' | 'tip_remove' | 'tip_copy' | 'lbl_download_zip' | 'tip_download_zip'
  | 'err_zip' | 'group_google' | 'group_anthropic' | 'group_openai' | 'group_deepseek' | 'placeholder_project'
  // Generated File Descriptions
  | 'desc_nix' | 'desc_instructions' | 'desc_prd' | 'desc_agents' | 'desc_progress'
  | 'desc_sys_prompt' | 'desc_tui' | 'desc_sh' | 'desc_ctx_img'
  // Enum Translations
  | 'iface_bash' | 'iface_tui'
  | 'tool_manual' | 'tool_antigravity' | 'tool_llm' | 'tool_gcloud' | 'tool_ollama' | 'tool_claude' | 'tool_openai';

type OutputKey =
  | 'prd_setup_title' | 'prd_setup_desc' | 'prd_criteria_setup'
  | 'prd_logic_title' | 'prd_logic_desc' | 'prd_criteria_logic'
  | 'agents_mem_intro' | 'arch_patterns' | 'gotchas' | 'proj_context'
  | 'progress_init' | 'script_start' | 'script_all_passed' | 'script_working'
  | 'script_criteria' | 'script_calling' | 'script_manual_check' | 'script_ask_success'
  | 'script_complete' | 'script_failed' | 'sys_prompt_core_rules' | 'sys_prompt_fresh'
  | 'sys_prompt_atomic' | 'sys_prompt_compound' | 'sys_prompt_verification'
  | 'sys_intro_std' | 'sys_dev_browser' | 'sys_goal_label' | 'sys_model_label'
  // Expert Task Keys
  | 'task_analysis_title' | 'task_analysis_desc' | 'task_analysis_crit'
  | 'task_verify_title' | 'task_verify_desc' | 'task_verify_crit'
  | 'task_checklist_title' | 'task_checklist_desc' | 'task_checklist_crit'
  | 'task_checklist_title' | 'task_checklist_desc' | 'task_checklist_crit'
  // Technical & Script Keys
  | 'tui_waiting' | 'tui_agent_act' | 'tui_all_done' | 'tui_running'
  | 'tui_err_load' | 'tui_err_json' | 'tui_err_gen' | 'tui_err_save' | 'tui_success_save' | 'tui_retry'
  | 'tui_title' | 'sh_start'
  | 'sh_orchestrator_for' | 'sh_optimized_for' | 'sh_cli_tool' | 'sh_jq_req' | 'sh_install_it'
  | 'git_init_commit' | 'git_task_commit' | 'agents_lessons_title' | 'agents_lessons_hint'
  | 'agents_gotchas_title' | 'agents_gotchas_hint' | 'agents_init_ctx' | 'sys_prompt_header'
  | 'sys_prompt_project' | 'tui_calling_agent' | 'tui_end_session' | 'tui_you_are_ralph'
  | 'tui_context_label' | 'tui_task_label' | 'tui_criteria_label' | 'instr_generated_by'
  | 'err_google_model' | 'err_claude_model' | 'err_manual_setup' | 'err_antigravity_model' | 'err_manual_call';

export type InstructionKey =
  | 'instr_title' | 'instr_sys_req_title' | 'instr_sys_req_body'
  | 'instr_setup_title' | 'instr_setup_idx'
  | 'instr_setup_llm_step1' | 'instr_setup_llm_step2'
  | 'instr_setup_ollama'
  | 'instr_setup_claude'
  | 'instr_setup_openai'
  | 'instr_setup_gcloud' | 'instr_setup_manual'
  | 'instr_keys_title' | 'instr_keys_setup_cmd' | 'instr_keys_no_req' | 'instr_keys_gcloud_cmd' | 'instr_keys_claude' | 'instr_keys_openai'
  | 'instr_run_title' | 'instr_run_step_chmod' | 'instr_run_step_git' | 'instr_run_step_start'
  | 'instr_workflow_title' | 'instr_workflow_body';

const uiDictionary: Record<AppLanguage, Record<TranslationKey, string>> = {
  [AppLanguage.EN]: {
    appTitle: "Ralph System Generator",
    subTitle: "Updated for 2026 Models",
    configTitle: "System Configuration",
    projectName: "Project Name",
    goal: "Goal / Context (The \"Pin\")",
    goalPlaceholder: "Describe what Ralph needs to build...",
    goalHelp: "This context ensures the agent stays aligned during fresh context loops.",
    model: "AI Model (Engine)",
    modelHelp: "System prompt adjusted for reasoning/CoT model.",
    interface: "Orchestration Interface",
    cliTool: "Execution Environment (CLI)",
    cliToolHelp: "Select the tool installed in your terminal to make the script executable.",
    capabilities: "Capacities",
    devBrowser: "Enable Dev Browser Skill",
    devBrowserHelp: "Allows Ralph to visually verify frontend changes.",
    generateBtn: "Generate Ralph System",
    freshContextTitle: "Why \"Fresh Context\"?",
    whyFreshContext: "Ralph uses a \"Tabula Rasa\" approach. Every iteration starts with a clean memory slate, reading only from agents.md and prd.json to prevent \"Context Rot\".",
    freshContextDesc: "Ralph uses a \"Tabula Rasa\" approach.",
    generatedAssets: "Generated System Assets",
    filesCreated: "files created",
    emptyStateTitle: "Ready to Orchestrate",
    emptyStateDesc: "Configure your system and click \"Generate\"",
    uiLang: "Dashboard Language",
    outputLang: "Output Language",
    uploadLabel: "Context Files (Images/Text)",
    uploadHelp: "Attach docs or UI mockups. Text files will be appended to agents.md. Images saved to assets/.",
    filesAttached: "files attached",
    presetsTitle: "Quick Start Presets",
    presetPlaceholder: "Select a Quick Start Preset...",
    diffBeginner: "Beginner",
    diffIntermediate: "Intermediate",
    diffAdvanced: "Advanced",
    diffExpert: "Expert",
    themeLabel: "Theme",
    themeLight: "Light",
    themeDark: "Dark",
    lbl_code: "Code:",
    tip_download: "Download File",
    tip_remove: "Remove File",
    desc_nix: "NixOS configuration for Google Antigravity/IDX.",
    desc_instructions: "Setup and execution guide.",
    desc_prd: "Product Requirement Document.",
    desc_agents: "Long-term memory.",
    desc_progress: "Short-term memory log.",
    desc_sys_prompt: "System prompt.",
    desc_tui: "Python TUI interface logic.",
    desc_sh: "The orchestration script that drives the loop.",
    desc_ctx_img: "Context Image",
    iface_bash: "Basic Bash Loop",
    iface_tui: "Ralph TUI (Terminal UI)",
    tool_manual: "Manual / Template (Safe Mode)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Recommended",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Local)",
    tool_claude: "Claude Code CLI (Official)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Copy Content",
    lbl_download_zip: "Download ZIP",
    tip_download_zip: "Download all files as ZIP",
    err_zip: "Failed to generate ZIP",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "e.g. MySuperApp"
  },
  [AppLanguage.IT]: {
    appTitle: "Generatore Sistema Ralph",
    subTitle: "Aggiornato per modelli 2026",
    configTitle: "Configurazione Sistema",
    projectName: "Nome Progetto",
    goal: "Obiettivo / Contesto (Il \"Pin\")",
    goalPlaceholder: "Descrivi cosa deve costruire Ralph...",
    goalHelp: "Questo contesto mantiene l'agente allineato durante i cicli a contesto fresco.",
    model: "Modello IA (Motore)",
    modelHelp: "Prompt di sistema ottimizzato per modelli di ragionamento/CoT.",
    interface: "Interfaccia di Orchestrazione",
    cliTool: "Ambiente di Esecuzione (CLI)",
    cliToolHelp: "Seleziona il tool installato nel tuo terminale per rendere lo script eseguibile.",
    capabilities: "Capacità",
    devBrowser: "Abilita Skill Dev Browser",
    devBrowserHelp: "Permette a Ralph di verificare visivamente le modifiche frontend.",
    generateBtn: "Genera Sistema Ralph",
    freshContextTitle: "Perché \"Contesto Fresco\"?",
    whyFreshContext: "Ralph usa un approccio \"Tabula Rasa\". Ogni iterazione inizia con una memoria pulita, leggendo solo agents.md e prd.json per prevenire il \"Deterioramento del Contesto\".",
    freshContextDesc: "Ralph usa un approccio \"Tabula Rasa\".",
    generatedAssets: "Asset di Sistema Generati",
    filesCreated: "file creati",
    emptyStateTitle: "Pronto per l'Orchestrazione",
    emptyStateDesc: "Configura il sistema e clica \"Genera\"",
    uiLang: "Lingua Dashboard",
    outputLang: "Lingua Output (Codice)",
    uploadLabel: "File di Contesto (Img/Testo)",
    uploadHelp: "Allega documenti o mockup. I testi saranno aggiunti ad agents.md, le immagini in assets/.",
    filesAttached: "file allegati",
    presetsTitle: "Preset Rapidi",
    presetPlaceholder: "Seleziona un Preset...",
    diffBeginner: "Principiante",
    diffIntermediate: "Intermedio",
    diffAdvanced: "Avanzato",
    diffExpert: "Esperto",
    themeLabel: "Tema",
    themeLight: "Chiaro",
    themeDark: "Scuro",
    lbl_code: "Codice:",
    tip_download: "Scarica File",
    tip_remove: "Rimuovi File",
    desc_nix: "Configurazione NixOS per Google Antigravity/IDX.",
    desc_instructions: "Guida all'installazione ed esecuzione.",
    desc_prd: "Documento Requisiti Prodotto (PRD).",
    desc_agents: "Memoria a lungo termine.",
    desc_progress: "Log memoria a breve termine.",
    desc_sys_prompt: "Prompt di sistema.",
    desc_tui: "Logica interfaccia TUI in Python.",
    desc_sh: "Script di orchestrazione del loop.",
    desc_ctx_img: "Immagine di Contesto",
    iface_bash: "Loop Bash Base",
    iface_tui: "Ralph TUI (Interfaccia Terminale)",
    tool_manual: "Manuale / Template (Modo Sicuro)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Consigliato",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Locale)",
    tool_claude: "Claude Code CLI (Official)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Copia Contenuto",
    lbl_download_zip: "Scarica ZIP",
    tip_download_zip: "Scarica tutti i file come ZIP",
    err_zip: "Errore nella generazione dello ZIP",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "es. MioProgetto"
  },
  [AppLanguage.ES]: {
    appTitle: "Generador de Sistema Ralph",
    subTitle: "Actualizado para modelos 2026",
    configTitle: "Configuración del Sistema",
    projectName: "Nombre del Proyecto",
    goal: "Objetivo / Contexto",
    goalPlaceholder: "Describe lo que Ralph necesita construir...",
    goalHelp: "Este contexto asegura que el agente se mantenga alineado.",
    model: "Modelo IA",
    modelHelp: "Prompt ajustado para modelos de razonamiento.",
    interface: "Interfaz de Orquestación",
    cliTool: "Entorno de Ejecución (CLI)",
    cliToolHelp: "Selecciona la herramienta instalada en tu terminal.",
    capabilities: "Capacidades",
    devBrowser: "Habilitar Dev Browser",
    devBrowserHelp: "Permite verificar cambios visualmente.",
    generateBtn: "Generar Sistema Ralph",
    freshContextTitle: "¿Por qué \"Contexto Fresco\"?",
    whyFreshContext: "Ralph usa un enfoque de \"Tabula Rasa\". Cada iteración comienza con memoria limpia para evitar la \"Putrefacción del Contexto\".",
    freshContextDesc: "Enfoque de Tabula Rasa.",
    generatedAssets: "Activos Generados",
    filesCreated: "archivos creados",
    emptyStateTitle: "Listo para Orquestar",
    emptyStateDesc: "Configura y haz clic en \"Generar\"",
    uiLang: "Idioma del Dashboard",
    outputLang: "Idioma de Salida",
    uploadLabel: "Archivos de Contexto",
    uploadHelp: "Adjunte documentos o maquetas. Texto se añade a agents.md, imágenes a assets/.",
    filesAttached: "archivos adjuntos",
    presetsTitle: "Preajustes Rápidos",
    presetPlaceholder: "Seleccione un Preajuste...",
    diffBeginner: "Principiante",
    diffIntermediate: "Intermedio",
    diffAdvanced: "Avanzado",
    diffExpert: "Experto",
    themeLabel: "Tema",
    themeLight: "Claro",
    themeDark: "Oscuro",
    lbl_code: "Código:",
    tip_download: "Descargar Archivo",
    tip_remove: "Eliminar Archivo",
    desc_nix: "Configuración NixOS para Google Antigravity/IDX.",
    desc_instructions: "Guía de instalación y ejecución.",
    desc_prd: "Documento de Requisitos del Producto.",
    desc_agents: "Memoria a largo plazo.",
    desc_progress: "Registro de memoria a corto plazo.",
    desc_sys_prompt: "Prompt del sistema.",
    desc_tui: "Lógica de interfaz TUI en Python.",
    desc_sh: "Script de orquestación del bucle.",
    desc_ctx_img: "Imagen de Contexto",
    iface_bash: "Bucle Bash Básico",
    iface_tui: "Ralph TUI (Interfaz de Terminal)",
    tool_manual: "Manual / Plantilla (Modo Seguro)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Recomendado",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Local)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Copiar Contenido",
    lbl_download_zip: "Descargar ZIP",
    tip_download_zip: "Descargar todos los archivos como ZIP",
    err_zip: "Error al generar el ZIP",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "ej. MiProyecto"
  },
  [AppLanguage.FR]: {
    appTitle: "Générateur Système Ralph",
    subTitle: "Mis à jour pour modèles 2026",
    configTitle: "Configuration Système",
    projectName: "Nom du Projet",
    goal: "Objectif / Contexte",
    goalPlaceholder: "Décrivez ce que Ralph doit construire...",
    goalHelp: "Garde l'agent aligné durant les boucles.",
    model: "Modèle IA",
    modelHelp: "Prompt ajusté pour le raisonnement.",
    interface: "Interface d'Orchestration",
    cliTool: "Environnement d'Exécution (CLI)",
    cliToolHelp: "Sélectionnez l'outil installé dans votre terminal.",
    capabilities: "Capacités",
    devBrowser: "Activer Dev Browser",
    devBrowserHelp: "Permet la vérification visuelle.",
    generateBtn: "Générer Système Ralph",
    freshContextTitle: "Pourquoi \"Contexte Frais\" ?",
    whyFreshContext: "Ralph utilise une approche \"Tabula Rasa\". Chaque itération commence avec une mémoire vide pour éviter la \"Pourriture du Contexte\".",
    freshContextDesc: "Approche Tabula Rasa.",
    generatedAssets: "Actifs Générés",
    filesCreated: "fichiers créés",
    emptyStateTitle: "Prêt à Orchestrer",
    emptyStateDesc: "Configurez et cliquez sur \"Générer\"",
    uiLang: "Langue du Tableau de Bord",
    outputLang: "Langue de Sortie",
    uploadLabel: "Fichiers de Contexte",
    uploadHelp: "Ajoutez docs ou maquettes. Texte ajouté à agents.md, images dans assets/.",
    filesAttached: "fichiers joints",
    presetsTitle: "Préréglages Rapides",
    presetPlaceholder: "Sélectionnez un préréglage...",
    diffBeginner: "Débutant",
    diffIntermediate: "Intermédiaire",
    diffAdvanced: "Avancé",
    diffExpert: "Expert",
    themeLabel: "Thème",
    themeLight: "Clair",
    themeDark: "Sombre",
    lbl_code: "Code :",
    tip_download: "Télécharger Fichier",
    tip_remove: "Supprimer Fichier",
    desc_nix: "Configuration NixOS pour Google Antigravity/IDX.",
    desc_instructions: "Guide d'installation et d'exécution.",
    desc_prd: "Document des Exigences Produit.",
    desc_agents: "Mémoire à long terme.",
    desc_progress: "Journal de mémoire à court terme.",
    desc_sys_prompt: "Prompt système.",
    desc_tui: "Logique d'interface TUI en Python.",
    desc_sh: "Script d'orchestration de la boucle.",
    desc_ctx_img: "Image de Contexte",
    iface_bash: "Boucle Bash Basique",
    iface_tui: "Ralph TUI (Interface Terminal)",
    tool_manual: "Manuel / Modèle (Mode Sécurisé)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Recommandé",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Local)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Copier le Contenu",
    lbl_download_zip: "Télécharger ZIP",
    tip_download_zip: "Télécharger tous les fichiers en ZIP",
    err_zip: "Échec de la génération du ZIP",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "ex. MonProjet"
  },
  [AppLanguage.DE]: {
    appTitle: "Ralph System Generator",
    subTitle: "Aktualisiert für 2026 Modelle",
    configTitle: "Systemkonfiguration",
    projectName: "Projektname",
    goal: "Ziel / Kontext",
    goalPlaceholder: "Beschreiben Sie, was Ralph bauen soll...",
    goalHelp: "Hält den Agenten während der Schleifen auf Kurs.",
    model: "KI-Modell",
    modelHelp: "System-Prompt für Reasoning-Modelle optimiert.",
    interface: "Orchestrierungsschnittstelle",
    cliTool: "Ausführungsumgebung (CLI)",
    cliToolHelp: "Wählen Sie das in Ihrem Terminal installierte Tool.",
    capabilities: "Fähigkeiten",
    devBrowser: "Dev Browser aktivieren",
    devBrowserHelp: "Ermöglicht visuelle Überprüfung.",
    generateBtn: "Ralph System generieren",
    freshContextTitle: "Warum \"Frischer Kontext\"?",
    whyFreshContext: "Ralph nutzt einen \"Tabula Rasa\"-Ansatz. Jede Iteration beginnt mit leerem Speicher, um \"Kontext-Fäule\" zu verhindern.",
    freshContextDesc: "Tabula Rasa Ansatz.",
    generatedAssets: "Generierte Assets",
    filesCreated: "Dateien erstellt",
    emptyStateTitle: "Bereit zur Orchestrierung",
    emptyStateDesc: "Konfigurieren und \"Generieren\" klicken",
    uiLang: "Sprache Dashboard",
    outputLang: "Sprache Ausgabe",
    uploadLabel: "Kontextdateien",
    uploadHelp: "Docs oder Mockups anhängen. Text wird an agents.md angehängt, Bilder in assets/.",
    filesAttached: "Dateien angehängt",
    presetsTitle: "Schnellstart-Voreinstellungen",
    presetPlaceholder: "Voreinstellung wählen...",
    diffBeginner: "Anfänger",
    diffIntermediate: "Mittel",
    diffAdvanced: "Fortgeschritten",
    diffExpert: "Experte",
    themeLabel: "Design",
    themeLight: "Hell",
    themeDark: "Dunkel",
    lbl_code: "Code:",
    tip_download: "Datei herunterladen",
    tip_remove: "Datei entfernen",
    desc_nix: "NixOS-Konfiguration für Google Antigravity/IDX.",
    desc_instructions: "Installations- und Ausführungshandbuch.",
    desc_prd: "Produkt-Anforderungsdokument.",
    desc_agents: "Langzeitgedächtnis.",
    desc_progress: "Kurzzeitgedächtnis-Log.",
    desc_sys_prompt: "System-Prompt.",
    desc_tui: "Python TUI-Schnittstellenlogik.",
    desc_sh: "Das Orchestrierungsskript, das die Schleife steuert.",
    desc_ctx_img: "Kontextbild",
    iface_bash: "Basis Bash-Schleife",
    iface_tui: "Ralph TUI (Terminal UI)",
    tool_manual: "Manuell / Vorlage (Sicherer Modus)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Empfohlen",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Lokal)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Inhalt kopieren",
    lbl_download_zip: "ZIP herunterladen",
    tip_download_zip: "Alle Dateien als ZIP herunterladen",
    err_zip: "ZIP-Generierung fehlgeschlagen",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "z.B. MeinProjekt"
  },
  [AppLanguage.PT]: {
    appTitle: "Gerador de Sistema Ralph",
    subTitle: "Atualizado para modelos 2026",
    configTitle: "Configuração do Sistema",
    projectName: "Nome do Projeto",
    goal: "Objetivo / Contexto",
    goalPlaceholder: "Descreva o que Ralph precisa construir...",
    goalHelp: "Garante alinhamento durante os loops.",
    model: "Modelo IA",
    modelHelp: "Prompt ajustado para raciocínio.",
    interface: "Interface de Orquestração",
    cliTool: "Ambiente de Execução (CLI)",
    cliToolHelp: "Selecione a ferramenta instalada em seu terminal.",
    capabilities: "Capacidades",
    devBrowser: "Ativar Dev Browser",
    devBrowserHelp: "Permite verificação visual.",
    generateBtn: "Gerar Sistema Ralph",
    freshContextTitle: "Por que \"Contexto Fresco\"?",
    whyFreshContext: "Ralph usa uma abordagem \"Tabula Rasa\". Cada iteración começa com memória limpa para evitar \"Deterioração de Contexto\".",
    freshContextDesc: "Abordagem Tabula Rasa.",
    generatedAssets: "Ativos Gerados",
    filesCreated: "arquivos criados",
    emptyStateTitle: "Pronto para Orquestrar",
    emptyStateDesc: "Configure e clique em \"Gerar\"",
    uiLang: "Idioma do Painel",
    outputLang: "Idioma de Saída",
    uploadLabel: "Arquivos de Contexto",
    uploadHelp: "Anexar docs ou mockups. Texto será anexado ao agents.md, imagens em assets/.",
    filesAttached: "arquivos anexados",
    presetsTitle: "Predefinições Rápidas",
    presetPlaceholder: "Selecione um Preset...",
    diffBeginner: "Iniciante",
    diffIntermediate: "Intermediário",
    diffAdvanced: "Avançado",
    diffExpert: "Especialista",
    themeLabel: "Tema",
    themeLight: "Claro",
    themeDark: "Escuro",
    lbl_code: "Código:",
    tip_download: "Baixar Arquivo",
    tip_remove: "Remover Arquivo",
    desc_nix: "Configuração NixOS para Google Antigravity/IDX.",
    desc_instructions: "Guia de instalação e execução.",
    desc_prd: "Documento de Requisitos do Produto.",
    desc_agents: "Memoria de longo prazo.",
    desc_progress: "Log de memória de curto prazo.",
    desc_sys_prompt: "Prompt do sistema.",
    desc_tui: "Lógica da interface TUI em Python.",
    desc_sh: "Script de orquestração do loop.",
    desc_ctx_img: "Imagem de Contexto",
    iface_bash: "Loop Bash Básico",
    iface_tui: "Ralph TUI (Interface Terminal)",
    tool_manual: "Manual / Modelo (Modo Seguro)",
    tool_antigravity: "Google Antigravity / Project IDX (Cloud IDE)",
    tool_llm: "LLM CLI (simonw/llm) - Recomendado",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (Local)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "Copiar Conteúdo",
    lbl_download_zip: "Baixar ZIP",
    tip_download_zip: "Baixar todos os arquivos como ZIP",
    err_zip: "Erro ao gerar o ZIP",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "ex. MeuProjeto"
  },
  [AppLanguage.ZH]: {
    appTitle: "Ralph 系统生成器",
    subTitle: "针对 2026 模型更新",
    configTitle: "系统配置",
    projectName: "项目名称",
    goal: "目标 / 上下文",
    goalPlaceholder: "描述 Ralph 需要构建的内容...",
    goalHelp: "此上下文确保代理在循环中保持一致。",
    model: "AI 模型",
    modelHelp: "系统提示词已针对推理模型优化。",
    interface: "编排接口",
    cliTool: "执行环境 (CLI)",
    cliToolHelp: "选择安装在终端中的工具以使脚本可执行。",
    capabilities: "能力",
    devBrowser: "启用开发浏览器",
    devBrowserHelp: "允许直观验证前端更改。",
    generateBtn: "生成 Ralph 系统",
    freshContextTitle: "为什么要“新鲜上下文”？",
    whyFreshContext: "Ralph 使用“白板”方法。每次迭代都以干净的记忆开始，仅读取 agents.md 和 prd.json 以防止“上下文腐烂”。",
    freshContextDesc: "白板方法。",
    generatedAssets: "生成的系统资产",
    filesCreated: "个文件已创建",
    emptyStateTitle: "准备编排",
    emptyStateDesc: "配置您的系统并点击“生成”",
    uiLang: "仪表板语言",
    outputLang: "输出语言",
    uploadLabel: "上下文文件 (图像/文本)",
    uploadHelp: "附加文档或 UI 模型。文本文件将附加到 agents.md。图像保存到 assets/。",
    filesAttached: "文件已附加",
    presetsTitle: "快速入门预设",
    presetPlaceholder: "选择预设...",
    diffBeginner: "初学者",
    diffIntermediate: "中级",
    diffAdvanced: "高级",
    diffExpert: "专家",
    themeLabel: "主题",
    themeLight: "亮色",
    themeDark: "暗色",
    lbl_code: "代码：",
    tip_download: "下载文件",
    tip_remove: "删除文件",
    desc_nix: "Google Antigravity/IDX 的 NixOS 配置。",
    desc_instructions: "安装和执行指南。",
    desc_prd: "产品需求文档。",
    desc_agents: "长期记忆。",
    desc_progress: "短期记忆日志。",
    desc_sys_prompt: "系统提示词。",
    desc_tui: "Python TUI 界面逻辑。",
    desc_sh: "驱动循环的编排脚本。",
    desc_ctx_img: "上下文图像",
    iface_bash: "基本 Bash 循环",
    iface_tui: "Ralph TUI (终端界面)",
    tool_manual: "手动 / 模板 (安全模式)",
    tool_antigravity: "Google Antigravity / Project IDX (云 IDE)",
    tool_llm: "LLM CLI (simonw/llm) - 推荐",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (本地)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "复制内容",
    lbl_download_zip: "下载 ZIP",
    tip_download_zip: "下载所有文件为 ZIP",
    err_zip: "生成 ZIP 失败",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "例如：我的项目"
  },
  [AppLanguage.JA]: {
    appTitle: "Ralph システムジェネレーター",
    subTitle: "2026年モデル向け更新",
    configTitle: "システム設定",
    projectName: "プロジェクト名",
    goal: "目標 / コンテキスト",
    goalPlaceholder: "Ralphが構築すべきものを記述...",
    goalHelp: "エージェントの整合性を保ちます。",
    model: "AIモデル",
    modelHelp: "推論モデル向けに調整されたプロンプト。",
    interface: "オーケストレーション",
    cliTool: "実行環境 (CLI)",
    cliToolHelp: "スクリプトを実行可能にするために、ターミナルにインストールされているツールを選択してください。",
    capabilities: "機能",
    devBrowser: "Dev Browserを有効化",
    devBrowserHelp: "フロントエンドの変更を視覚的に検証。",
    generateBtn: "Ralph システムを生成",
    freshContextTitle: "なぜ「フレッシュコンテキスト」？",
    whyFreshContext: "Ralphは「タブラ・ラサ（白紙）」アプローチを採用しています。「コンテキストの腐敗」を防ぐため、反復ごとにメモリをリセットします。",
    freshContextDesc: "白紙アプローチ。",
    generatedAssets: "生成されたアセット",
    filesCreated: "ファイル作成済み",
    emptyStateTitle: "オーケストレーション準備完了",
    emptyStateDesc: "システムを設定して「生成」をクリック",
    uiLang: "ダッシュボード言語",
    outputLang: "出力言語 (コード)",
    uploadLabel: "コンテキストファイル (画像/テキスト)",
    uploadHelp: "ドキュメントやモックアップを添付。テキストはagents.mdに追加され、画像はassets/に保存されます。",
    filesAttached: "ファイル添付済み",
    presetsTitle: "クイックスタートプリセット",
    presetPlaceholder: "プリセットを選択...",
    diffBeginner: "初心者",
    diffIntermediate: "中級者",
    diffAdvanced: "上級者",
    diffExpert: "エキスパート",
    themeLabel: "テーマ",
    themeLight: "ライト",
    themeDark: "ダーク",
    lbl_code: "コード:",
    tip_download: "ファイルをダウンロード",
    tip_remove: "ファイルを削除",
    desc_nix: "Google Antigravity/IDX用のNixOS設定。",
    desc_instructions: "インストールおよび実行ガイド。",
    desc_prd: "製品要件ドキュメント（PRD）。",
    desc_agents: "長期記憶。",
    desc_progress: "短期記憶ログ。",
    desc_sys_prompt: "システムプロンプト。",
    desc_tui: "Python TUIインターフェースロジック。",
    desc_sh: "ループを駆動するオーケストレーションスクリプト。",
    desc_ctx_img: "コンテキスト画像",
    iface_bash: "基本Bashループ",
    iface_tui: "Ralph TUI (ターミナルUI)",
    tool_manual: "手動 / テンプレート (セーフモード)",
    tool_antigravity: "Google Antigravity / Project IDX (クラウドIDE)",
    tool_llm: "LLM CLI (simonw/llm) - 推奨",
    tool_gcloud: "Gemini CLI (Google Official)",
    tool_ollama: "Ollama (ローカル)",
    tool_claude: "Claude CLI (Anthropic)",
    tool_openai: "OpenAI CLI (Python)",
    tip_copy: "内容をコピー",
    lbl_download_zip: "ZIPをダウンロード",
    tip_download_zip: "すべてのファイルをZIPでダウンロード",
    err_zip: "ZIPの生成に失敗しました",
    group_google: "Google Gemini",
    group_anthropic: "Anthropic",
    group_openai: "OpenAI",
    group_deepseek: "DeepSeek / Meta",
    placeholder_project: "例：マイプロジェクト"
  },
};

const enOutput: Record<OutputKey, string> = {
  prd_setup_title: "Environment Setup",
  prd_setup_desc: "Initialize the project structure and verify the environment for",
  prd_criteria_setup: "Script runs successfully and prints a confirmation.",
  prd_logic_title: "Core Logic Implementation",
  prd_logic_desc: "Implement the main functionality",
  prd_criteria_logic: "All tests pass and the main feature works as described.",
  agents_mem_intro: "This file serves as the long-term memory for Ralph. It contains the context, decisions, and knowledge base.",
  arch_patterns: "Architecture Patterns",
  gotchas: "Gotchas / Known Issues",
  proj_context: "Project Context",
  progress_init: "Project Initialized. Engine:",
  script_start: "Starting Ralph Loop for",
  script_all_passed: "All tasks in PRD passed! Exiting.",
  script_working: "Ralph is working on Task",
  script_criteria: "Acceptance Criteria:",
  script_calling: "Calling",
  script_manual_check: "Did the agent satisfy the criteria? (y/n):",
  script_ask_success: "Task marked as SUCCESS.",
  script_complete: "Completed Task",
  script_failed: "Task FAILED. Retrying...",
  sys_prompt_core_rules: "Core Rules",
  sys_prompt_fresh: "Start fresh every time.",
  sys_prompt_atomic: "Make atomic changes.",
  sys_prompt_compound: "Compound knowledge.",
  sys_prompt_verification: "Verify your output.",
  sys_intro_std: "You are a Ralph Loop Agent.",
  sys_dev_browser: "Dev Browser: ENABLED. You can assume HTML/JS/CSS is rendered at localhost. Verify visual output.",
  sys_goal_label: "Goal",
  sys_model_label: "Model",
  task_analysis_title: "Documentation Analysis",
  task_analysis_desc: "Read `README.md` and `DESIGN_DOC.md` to extract fundamental requirements and technical constraints.",
  task_analysis_crit: "The agent produces a summary of requirements and constraints in the logs.",
  task_verify_title: "Technical Constraints Verification",
  task_verify_desc: "Check if the 'Monolith' constraint in the Design Doc is respected or if there are microservice patterns in the hypothetical code.",
  task_verify_crit: "A non-compliance or confirmation report is generated.",
  task_checklist_title: "QA/CI Checklist Generation",
  task_checklist_desc: "Generate a checklist of 5 critical checks for the CI/CD pipeline based on the analyzed documents.",
  task_checklist_crit: "The checklist is written to a `compliance_checklist.md` file.",
  tui_waiting: "Waiting for user input...",
  tui_agent_act: "Agent Active",
  tui_all_done: "All Tasks Completed",
  tui_running: "Running Task",
  tui_err_load: "Error loading PRD",
  tui_err_json: "JSON Decode Error",
  tui_err_gen: "General Error",
  tui_err_save: "Error Saving",
  tui_success_save: "PRD Saved Successfully",
  tui_retry: "Retrying...",
  tui_title: "RALPH SYSTEM TUI",
  sh_start: "Starting Ralph TUI...",
  sh_orchestrator_for: "Ralph Loop Orchestrator for",
  sh_optimized_for: "Optimized for",
  sh_cli_tool: "CLI Tool",
  sh_jq_req: "jq is required.",
  sh_install_it: "Please install it.",
  git_init_commit: "Initial Ralph Setup",
  git_task_commit: "Ralph: Completed Task",
  agents_lessons_title: "Lessons Learned & Intelligence (Compound Engineering)",
  agents_lessons_hint: "The agent must update this section at each iteration",
  agents_gotchas_title: "Architecture Gotchas",
  agents_gotchas_hint: "Specific architecture notes discovered during development",
  agents_init_ctx: "Initial Context & Reference Files",
  sys_prompt_header: "[RALPH SYSTEM PROMPT]",
  sys_prompt_project: "Project",
  tui_calling_agent: "--- [RALPH CALLING AGENT] ---",
  tui_end_session: "--- [END OF AGENT SESSION] ---",
  tui_you_are_ralph: "You are Ralph.",
  tui_context_label: "CONTEXT",
  tui_task_label: "TASK",
  tui_criteria_label: "CRITERIA",
  instr_generated_by: "Generated by Ralph System Generator (2026 Edition)",
  err_google_model: "ERROR: You selected Google Cloud SDK but the model is not Google.",
  err_claude_model: "ERROR: Claude CLI only supports Claude models.",
  err_manual_setup: "Configure your specific CLI tool's API keys manually.",
  err_antigravity_model: "NOTE: In Antigravity/IDX, using a non-Google model requires external keys.",
  err_manual_call: "ACTUAL MODEL CALL - Placeholder"
};

const itOutput: Record<OutputKey, string> = {
  prd_setup_title: "Configurazione Ambiente",
  prd_setup_desc: "Inizializza struttura e verifica ambiente per",
  prd_criteria_setup: "Lo script viene eseguito con successo e stampa conferma.",
  prd_logic_title: "Implementazione Logica Core",
  prd_logic_desc: "Implementa la funzionalità principale",
  prd_criteria_logic: "Tutti i test passano e la feature funziona come descritto.",
  agents_mem_intro: "Questo file serve come memoria a lungo termine per Ralph. Contiene contesto, decisioni e knowledge base.",
  arch_patterns: "Pattern Architetturali",
  gotchas: "Problemi Noti",
  proj_context: "Contesto Progetto",
  progress_init: "Progetto Inizializzato. Motore:",
  script_start: "Avvio Ciclo Ralph per",
  script_all_passed: "Tutti i compiti nel PRD superati! Uscita.",
  script_working: "Ralph sta lavorando al Compito",
  script_criteria: "Criteri di Accettazione:",
  script_calling: "Chiamata a",
  script_manual_check: "L'agente ha soddisfatto i criteri? (y/n):",
  script_ask_success: "Compito segnato come SUCCESSO.",
  script_complete: "Compito Completato",
  script_failed: "Compito FALLITO. Riprovo...",
  sys_prompt_core_rules: "Regole Fondamentali",
  sys_prompt_fresh: "Inizia fresco ogni volta.",
  sys_prompt_atomic: "Fai modifiche atomiche.",
  sys_prompt_compound: "Componi la conoscenza.",
  sys_prompt_verification: "Verifica il tuo output.",
  sys_intro_std: "Sei un Agente del Ciclo Ralph.",
  sys_dev_browser: "Dev Browser: ATTIVO. Assumi che HTML/JS/CSS siano renderizzati su localhost. Verifica l'output visivo.",
  sys_goal_label: "Obiettivo",
  sys_model_label: "Modello",
  task_analysis_title: "Analisi Documentazione",
  task_analysis_desc: "Leggi `README.md` e `DESIGN_DOC.md` per estrarre i requisiti fondamentali e i vincoli tecnici.",
  task_analysis_crit: "L'agente produce un riassunto dei requisiti e dei vincoli nei log.",
  task_verify_title: "Verifica Vincoli Tecnici",
  task_verify_desc: "Controlla se il vincolo 'Monolite' nel Design Doc è rispettato o se ci sono pattern microservizi nel codice ipotetico.",
  task_verify_crit: "Viene generato un report di non-conformità o conferma.",
  task_checklist_title: "Generazione Checklist QA/CI",
  task_checklist_desc: "Genera una checklist di 5 controlli critici per la pipeline CI/CD basata sui documenti analizzati.",
  task_checklist_crit: "La checklist è scritta in un file `compliance_checklist.md`.",
  tui_waiting: "In attesa di input utente...",
  tui_agent_act: "Agente Attivo",
  tui_all_done: "Tutti i Compiti Completati",
  tui_running: "Esecuzione Compito",
  tui_err_load: "Errore caricamento PRD",
  tui_err_json: "Errore Decodifica JSON",
  tui_err_gen: "Errore Generale",
  tui_err_save: "Errore Salvataggio",
  tui_success_save: "PRD Salvato con Successo",
  tui_retry: "Riprovo...",
  tui_title: "SISTEMA RALPH TUI",
  sh_start: "Avvio Ralph TUI...",
  sh_orchestrator_for: "Orchestratore Loop Ralph per",
  sh_optimized_for: "Ottimizzato per",
  sh_cli_tool: "Strumento CLI",
  sh_jq_req: "jq è richiesto.",
  sh_install_it: "Per favore installalo.",
  git_init_commit: "Configurazione Iniziale Ralph",
  git_task_commit: "Ralph: Compito Completato",
  agents_lessons_title: "Lezioni Apprese & Intelligence (Compound Engineering)",
  agents_lessons_hint: "L'agente deve aggiornare questa sezione ad ogni iterazione",
  agents_gotchas_title: "Gotchas Architetturali",
  agents_gotchas_hint: "Note specifiche sull'architettura scoperte durante lo sviluppo",
  agents_init_ctx: "Contesto Iniziale & File di Riferimento",
  sys_prompt_header: "[PROMPT DI SISTEMA RALPH]",
  sys_prompt_project: "Progetto",
  tui_calling_agent: "--- [RALPH CHIAMA AGENTE] ---",
  tui_end_session: "--- [FINE SESSIONE AGENTE] ---",
  tui_you_are_ralph: "Sei Ralph.",
  tui_context_label: "CONTESTO",
  tui_task_label: "COMPITO",
  tui_criteria_label: "CRITERI",
  instr_generated_by: "Generato da Ralph System Generator (Edizione 2026)",
  err_google_model: "ERRORE: Hai selezionato Google Cloud SDK ma il modello non è Google.",
  err_claude_model: "ERRORE: La CLI di Claude supporta solo modelli Claude.",
  err_manual_setup: "Configura manualmente le chiavi API del tuo strumento CLI specifico.",
  err_antigravity_model: "NOTA: In Antigravity/IDX, l'uso di un modello non Google richiede chiavi esterne.",
  err_manual_call: "CHIAMATA MODELLO EFFETTIVA - Placeholder"
};

const enInstructions: Record<InstructionKey, string> = {
  instr_title: "Ralph System Instructions",
  instr_sys_req_title: "System Requirements",
  instr_sys_req_body: "- Git\n- jq (Command-line JSON processor)\n- Python 3.8+ (for TUI/Orchestrator)\n- Node.js (if using JS/TS projects)\n- Selected CLI Tool installed (see below)",
  instr_setup_title: "Installation & Setup",
  instr_setup_idx: "1. Open the project in Google IDX or Cloud Shell.\n2. The `.idx/dev.nix` file will automatically install `jq`, `gcloud`, and `python3`.\n3. Wait for the environment to rebuild.",
  instr_setup_llm_step1: "1. Install LLM by Simon Willison:",
  instr_setup_llm_step2: "   `pip install llm` or `brew install llm`",
  instr_setup_ollama: "1. Install Ollama from ollama.com\n2. Pull the model:\n   `ollama pull {modelId}`",
  instr_setup_claude: "1. Install `claude-cli` (unofficial) or use generic LLM tools.\n2. Ensure `anthropic` python package is installed if running custom scripts.",
  instr_setup_openai: "1. Install OpenAI Python library:\n   `pip install openai`",
  instr_setup_gcloud: "1. Install Google Cloud SDK.\n2. Authenticate: `gcloud auth login`\n3. Set project: `gcloud config set project YOUR_PROJECT_ID`",
  instr_setup_manual: "1. Ensure you have a way to run the model from the terminal.\n2. Edit `run_ralph.sh` to point to your specific executable.",
  instr_keys_title: "API Keys Configuration",
  instr_keys_setup_cmd: "Run the following to set up keys:",
  instr_keys_no_req: "No API keys required for local models.",
  instr_keys_gcloud_cmd: "Managed via `gcloud auth login`.",
  instr_keys_claude: "Managed via `claude login` or env variable `ANTHROPIC_API_KEY`.",
  instr_keys_openai: "Export the variable:\n`export OPENAI_API_KEY=sk-...`",
  instr_run_title: "Running Ralph",
  instr_run_step_chmod: "1. Make scripts executable:",
  instr_run_step_git: "2. Initialize Git (for atomic history):",
  instr_run_step_start: "3. Start the Loop:",
  instr_workflow_title: "Workflow Loop",
  instr_workflow_body: "1. Ralph reads `prd.json` to find the next incomplete task.\n2. It reads `agents.md` for long-term context.\n3. It generates a prompt and calls **{modelId}**.\n4. You verify the output. If valid, the task is marked done.\n5. Repeat until all tasks are complete."
};

const instructionDictionary: Record<AppLanguage, Record<InstructionKey, string>> = {
  [AppLanguage.EN]: enInstructions,
  [AppLanguage.IT]: {
    instr_title: "Istruzioni Sistema Ralph",
    instr_sys_req_title: "Requisiti di Sistema",
    instr_sys_req_body: "- Git\n- jq (Processore JSON da riga di comando)\n- Python 3.8+ (per TUI/Orchestrator)\n- Node.js (se si usano progetti JS/TS)\n- Tool CLI selezionato installato (vedi sotto)",
    instr_setup_title: "Installazione & Setup",
    instr_setup_idx: "1. Apri il progetto in Google IDX o Cloud Shell.\n2. Il file `.idx/dev.nix` installerà automaticamente `jq`, `gcloud` e `python3`.\n3. Attendi la ricostruzione dell'ambiente.",
    instr_setup_llm_step1: "1. Installa LLM di Simon Willison:",
    instr_setup_llm_step2: "   `pip install llm` o `brew install llm`",
    instr_setup_ollama: "1. Installa Ollama da ollama.com\n2. Scarica il modello:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. Installa `claude-cli` (non ufficiale) o usa tool LLM generici.\n2. Assicurati che il pacchetto python `anthropic` sia installato se usi script custom.",
    instr_setup_openai: "1. Installa libreria Python OpenAI:\n   `pip install openai`",
    instr_setup_gcloud: "1. Installa Google Cloud SDK.\n2. Autenticati: `gcloud auth login`\n3. Imposta progetto: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. Assicurati di avere un modo per eseguire il modello da terminale.\n2. Modifica `run_ralph.sh` per puntare al tuo eseguibile specifico.",
    instr_keys_title: "Configurazione Chiavi API",
    instr_keys_setup_cmd: "Esegui quanto segue per impostare le chiavi:",
    instr_keys_no_req: "Nessuna chiave API richiesta per modelli locali.",
    instr_keys_gcloud_cmd: "Gestito via `gcloud auth login`.",
    instr_keys_claude: "Gestito via `claude login` o variabile d'ambiente `ANTHROPIC_API_KEY`.",
    instr_keys_openai: "Esporta la variabile:\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Esecuzione di Ralph",
    instr_run_step_chmod: "1. Rendi gli script eseguibili:",
    instr_run_step_git: "2. Inizializza Git (per cronologia atomica):",
    instr_run_step_start: "3. Avvia il Ciclo:",
    instr_workflow_title: "Ciclo di Lavoro",
    instr_workflow_body: "1. Ralph legge `prd.json` per trovare il prossimo compito incompleto.\n2. Legge `agents.md` per il contesto a lungo termine.\n3. Genera un prompt e chiama **{modelId}**.\n4. Tu verifichi l'output. Se valido, il compito è segnato come fatto.\n5. Ripeti finché tutti i compiti sono completi."
  },
  [AppLanguage.ES]: {
    instr_title: "Instrucciones del Sistema Ralph",
    instr_sys_req_title: "Requisitos del Sistema",
    instr_sys_req_body: "- Git\n- jq (Procesador JSON de línea de comandos)\n- Python 3.8+ (para TUI/Orquestador)\n- Node.js (si usa proyectos JS/TS)\n- Herramienta CLI seleccionada instalada (ver abajo)",
    instr_setup_title: "Instalación y Configuración",
    instr_setup_idx: "1. Abre el proyecto en Google IDX o Cloud Shell.\n2. El archivo `.idx/dev.nix` instalará automáticamente `jq`, `gcloud` y `python3`.\n3. Espera a que el entorno se reconstruya.",
    instr_setup_llm_step1: "1. Instala LLM de Simon Willison:",
    instr_setup_llm_step2: "   `pip install llm` o `brew install llm`",
    instr_setup_ollama: "1. Instala Ollama desde ollama.com\n2. Descarga el modelo:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. Instala `claude-cli` (no oficial) o usa herramientas LLM genéricas.\n2. Asegúrate de que el paquete python `anthropic` esté instalado si usas scripts personalizados.",
    instr_setup_openai: "1. Instala la biblioteca Python de OpenAI:\n   `pip install openai`",
    instr_setup_gcloud: "1. Instala Google Cloud SDK.\n2. Autentícate: `gcloud auth login`\n3. Configura proyecto: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. Asegúrate de tener una forma de ejecutar el modelo desde la terminal.\n2. Edita `run_ralph.sh` para apuntar a tu ejecutable específico.",
    instr_keys_title: "Configuración de Claves API",
    instr_keys_setup_cmd: "Ejecuta lo siguiente para configurar las claves:",
    instr_keys_no_req: "No se requieren claves API para modelos locales.",
    instr_keys_gcloud_cmd: "Gestionado vía `gcloud auth login`.",
    instr_keys_claude: "Gestionado vía `claude login` o variable de entorno `ANTHROPIC_API_KEY`.",
    instr_keys_openai: "Exporta la variable:\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Ejecutando Ralph",
    instr_run_step_chmod: "1. Haz ejecutables los scripts:",
    instr_run_step_git: "2. Inicializa Git (para historial atómico):",
    instr_run_step_start: "3. Inicia el Bucle:",
    instr_workflow_title: "Flujo de Trabajo",
    instr_workflow_body: "1. Ralph lee `prd.json` para encontrar la siguiente tarea incompleta.\n2. Lee `agents.md` para el contexto a largo plazo.\n3. Genera un prompt y llama a **{modelId}**.\n4. Verificas la salida. Si es válida, la tarea se marca como hecha.\n5. Repite hasta que todas las tareas estén completas."
  },
  [AppLanguage.FR]: {
    instr_title: "Instructions Système Ralph",
    instr_sys_req_title: "Prérequis Système",
    instr_sys_req_body: "- Git\n- jq (Processeur JSON en ligne de commande)\n- Python 3.8+ (pour TUI/Orchestrateur)\n- Node.js (si projets JS/TS)\n- Outil CLI sélectionné installé (voir ci-dessous)",
    instr_setup_title: "Installation & Configuration",
    instr_setup_idx: "1. Ouvrez le projet dans Google IDX ou Cloud Shell.\n2. Le fichier `.idx/dev.nix` installera automatiquement `jq`, `gcloud` et `python3`.\n3. Attendez que l'environnement se reconstruise.",
    instr_setup_llm_step1: "1. Installez LLM par Simon Willison :",
    instr_setup_llm_step2: "   `pip install llm` ou `brew install llm`",
    instr_setup_ollama: "1. Installez Ollama depuis ollama.com\n2. Récupérez le modèle :\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. Installez `claude-cli` (non officiel) ou utilisez des outils LLM génériques.\n2. Assurez-vous que le paquet python `anthropic` est installé.",
    instr_setup_openai: "1. Installez la librairie Python OpenAI :\n   `pip install openai`",
    instr_setup_gcloud: "1. Installez Google Cloud SDK.\n2. Authentifiez-vous : `gcloud auth login`\n3. Définissez le projet : `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. Assurez-vous de pouvoir exécuter le modèle depuis le terminal.\n2. Éditez `run_ralph.sh` pour pointer vers votre exécutable.",
    instr_keys_title: "Configuration Clés API",
    instr_keys_setup_cmd: "Exécutez ce qui suit pour configurer les clés :",
    instr_keys_no_req: "Pas de clés API requises pour les modèles locaux.",
    instr_keys_gcloud_cmd: "Géré via `gcloud auth login`.",
    instr_keys_claude: "Géré via `claude login` ou variable d'environnement `ANTHROPIC_API_KEY`.",
    instr_keys_openai: "Exportez la variable :\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Exécuter Ralph",
    instr_run_step_chmod: "1. Rendez les scripts exécutables :",
    instr_run_step_git: "2. Initialisez Git (pour historique atomique) :",
    instr_run_step_start: "3. Démarrez la Boucle :",
    instr_workflow_title: "Flux de Travail",
    instr_workflow_body: "1. Ralph lit `prd.json` pour trouver la prochaine tâche incomplète.\n2. Il lit `agents.md` pour le contexte à long terme.\n3. Il génère un prompt et appelle **{modelId}**.\n4. Vous vérifiez la sortie. Si valide, la tâche est marquée faite.\n5. Répétez jusqu'à ce que toutes les tâches soient complètes."
  },
  [AppLanguage.DE]: {
    instr_title: "Ralph System Anleitung",
    instr_sys_req_title: "Systemanforderungen",
    instr_sys_req_body: "- Git\n- jq (Befehlszeilen-JSON-Prozessor)\n- Python 3.8+ (für TUI/Orchestrator)\n- Node.js (für JS/TS Projekte)\n- Ausgewähltes CLI-Tool installiert (siehe unten)",
    instr_setup_title: "Installation & Einrichtung",
    instr_setup_idx: "1. Projekt in Google IDX oder Cloud Shell öffnen.\n2. Die Datei `.idx/dev.nix` installiert automatisch `jq`, `gcloud` und `python3`.\n3. Warten Sie, bis die Umgebung neu erstellt wurde.",
    instr_setup_llm_step1: "1. Installiere LLM von Simon Willison:",
    instr_setup_llm_step2: "   `pip install llm` oder `brew install llm`",
    instr_setup_ollama: "1. Installiere Ollama von ollama.com\n2. Lade das Modell:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. Installiere `claude-cli` (inoffiziell) oder nutze generische LLM-Tools.\n2. Stelle sicher, dass das `anthropic` Python-Paket installiert ist.",
    instr_setup_openai: "1. Installiere OpenAI Python Bibliothek:\n   `pip install openai`",
    instr_setup_gcloud: "1. Installiere Google Cloud SDK.\n2. Authentifizieren: `gcloud auth login`\n3. Projekt setzen: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. Stelle sicher, dass du das Modell vom Terminal ausführen kannst.\n2. Bearbeite `run_ralph.sh`, um auf deine ausführbare Datei zu zeigen.",
    instr_keys_title: "API-Schlüssel Konfiguration",
    instr_keys_setup_cmd: "Führe Folgendes aus, um Schlüssel zu setzen:",
    instr_keys_no_req: "Keine API-Schlüssel für lokale Modelle erforderlich.",
    instr_keys_gcloud_cmd: "Verwaltet über `gcloud auth login`.",
    instr_keys_claude: "Verwaltet über `claude login` oder Umgebungsvariable `ANTHROPIC_API_KEY`.",
    instr_keys_openai: "Exportieren Sie die Variable:\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Ralph Ausführen",
    instr_run_step_chmod: "1. Skripte ausführbar machen:",
    instr_run_step_git: "2. Git initialisieren (für atomaren Verlauf):",
    instr_run_step_start: "3. Schleife starten:",
    instr_workflow_title: "Arbeitsablauf",
    instr_workflow_body: "1. Ralph liest `prd.json`, um die nächste unvollständige Aufgabe zu finden.\n2. Es liest `agents.md` für Langzeitkontext.\n3. Es generiert einen Prompt und ruft **{modelId}** auf.\n4. Du verifizierst die Ausgabe. Wenn gültig, wird die Aufgabe als erledigt markiert.\n5. Wiederholen, bis alle Aufgaben erledigt sind."
  },
  [AppLanguage.PT]: {
    instr_title: "Instruções do Sistema Ralph",
    instr_sys_req_title: "Requisitos do Sistema",
    instr_sys_req_body: "- Git\n- jq (Processador JSON de linha de comando)\n- Python 3.8+ (para TUI/Orquestador)\n- Node.js (se usar projetos JS/TS)\n- Ferramenta CLI selecionada instalada (veja abaixo)",
    instr_setup_title: "Instalação & Configuração",
    instr_setup_idx: "1. Abra o projeto no Google IDX ou Cloud Shell.\n2. O arquivo `.idx/dev.nix` instalará automaticamente `jq`, `gcloud` e `python3`.\n3. Aguarde a reconstrução do ambiente.",
    instr_setup_llm_step1: "1. Instale LLM de Simon Willison:",
    instr_setup_llm_step2: "   `pip install llm` ou `brew install llm`",
    instr_setup_ollama: "1. Instale Ollama de ollama.com\n2. Baixe o modelo:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. Instale `claude-cli` (não oficial) ou use ferramentas LLM genéricas.\n2. Garanta que o pacote python `anthropic` esteja instalado.",
    instr_setup_openai: "1. Instale biblioteca Python OpenAI:\n   `pip install openai`",
    instr_setup_gcloud: "1. Instale Google Cloud SDK.\n2. Autentique: `gcloud auth login`\n3. Defina projeto: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. Garanta que você pode executar o modelo via terminal.\n2. Edite `run_ralph.sh` para apontar para seu executável.",
    instr_keys_title: "Configuração de Chaves API",
    instr_keys_setup_cmd: "Execute o seguinte para configurar chaves:",
    instr_keys_no_req: "Sem chaves API para modelos locais.",
    instr_keys_gcloud_cmd: "Gerenciado via `gcloud auth login`.",
    instr_keys_claude: "Gerenciado via `claude login` ou variável de ambiente `ANTHROPIC_API_KEY`.",
    instr_keys_openai: "Exporte a variabile:\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Executando Ralph",
    instr_run_step_chmod: "1. Torne os scripts executáveis:",
    instr_run_step_git: "2. Inicialize Git (para histórico atômico):",
    instr_run_step_start: "3. Inicie o Loop:",
    instr_workflow_title: "Fluxo de Trabalho",
    instr_workflow_body: "1. Ralph lê `prd.json` para encontrar a próxima tarefa incompleta.\n2. Lê `agents.md` para contexto de longo prazo.\n3. Gera um prompt e chama **{modelId}**.\n4. Você verifica a saída. Se válida, a tarefa é marcada como feita.\n5. Repita até que todas as tarefas estejam completas."
  },
  [AppLanguage.ZH]: {
    instr_title: "Ralph 系统说明",
    instr_sys_req_title: "系统要求",
    instr_sys_req_body: "- Git\n- jq (命令行 JSON 处理器)\n- Python 3.8+ (用于 TUI/编排器)\n- Node.js (如果使用 JS/TS 项目)\n- 已安装选定的 CLI 工具 (见下文)",
    instr_setup_title: "安装与设置",
    instr_setup_idx: "1. 在 Google IDX 或 Cloud Shell 中打开项目。\n2. `.idx/dev.nix` 文件将自动安装 `jq`、`gcloud` 和 `python3`。\n3. 等待环境重建。",
    instr_setup_llm_step1: "1. 安装 Simon Willison 的 LLM:",
    instr_setup_llm_step2: "   `pip install llm` 或 `brew install llm`",
    instr_setup_ollama: "1. 从 ollama.com 安装 Ollama\n2. 拉取模型:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. 安装 `claude-cli` (非官方) 或使用通用 LLM 工具。\n2. 确保已安装 `anthropic` python 包。",
    instr_setup_openai: "1. 安装 OpenAI Python 库:\n   `pip install openai`",
    instr_setup_gcloud: "1. 安装 Google Cloud SDK。\n2. 认证: `gcloud auth login`\n3. 设置项目: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. 确保您可以从终端运行模型。\n2. 编辑 `run_ralph.sh` 指向您的可执行文件。",
    instr_keys_title: "API 密钥配置",
    instr_keys_setup_cmd: "运行以下命令设置密钥:",
    instr_keys_no_req: "本地模型不需要 API 密钥。",
    instr_keys_gcloud_cmd: "通过 `gcloud auth login` 管理。",
    instr_keys_claude: "通过 `claude login` 或环境变量 `ANTHROPIC_API_KEY` 管理。",
    instr_keys_openai: "导出变量：\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "运行 Ralph",
    instr_run_step_chmod: "1. 使脚本可执行:",
    instr_run_step_git: "2. 初始化 Git (用于原子历史):",
    instr_run_step_start: "3. 启动循环:",
    instr_workflow_title: "工作流程循环",
    instr_workflow_body: "1. Ralph 读取 `prd.json` 查找下一个未完成的任务。\n2. 它读取 `agents.md` 获取长期上下文。\n3. 它生成提示并调用 **{modelId}**。\n4. 您验证输出。如果有效，任务标记为完成。\n5. 重复直到所有任务完成。"
  },
  [AppLanguage.JA]: {
    instr_title: "Ralph システム説明書",
    instr_sys_req_title: "システム要件",
    instr_sys_req_body: "- Git\n- jq (コマンドラインJSONプロセッサ)\n- Python 3.8+ (TUI/オーケストレーター用)\n- Node.js (JS/TSプロジェクトを使用する場合)\n- 選択したCLIツール（下記参照）",
    instr_setup_title: "インストールと設定",
    instr_setup_idx: "1. Google IDXまたはCloud Shellでプロジェクトを開きます。\n2. `.idx/dev.nix`ファイルが`jq`、`gcloud`、`python3`を自動的にインストールします。\n3. 環境の再構築を待ちます。",
    instr_setup_llm_step1: "1. Simon WillisonによるLLMをインストール:",
    instr_setup_llm_step2: "   `pip install llm` または `brew install llm`",
    instr_setup_ollama: "1. ollama.comからOllamaをインストール\n2. モデルをプル:\n   `ollama pull {modelId}`",
    instr_setup_claude: "1. `claude-cli`（非公式）をインストールするか、一般的なLLMツールを使用。\n2. カスタムスクリプトを実行する場合は`anthropic` pythonパッケージを確認してください。",
    instr_setup_openai: "1. OpenAI Pythonライブラリをインストール:\n   `pip install openai`",
    instr_setup_gcloud: "1. Google Cloud SDKをインストール。\n2. 認証: `gcloud auth login`\n3. プロジェクト設定: `gcloud config set project YOUR_PROJECT_ID`",
    instr_setup_manual: "1. ターミナルからモデルを実行できることを確認してください。\n2. `run_ralph.sh`を編集して実行可能ファイルを指定します。",
    instr_keys_title: "APIキー設定",
    instr_keys_setup_cmd: "以下を実行してキーを設定:",
    instr_keys_no_req: "ローカルモデルにはAPIキーは不要です。",
    instr_keys_gcloud_cmd: "`gcloud auth login`で管理されます。",
    instr_keys_claude: "`claude login`または環境変数`ANTHROPIC_API_KEY`を介して管理されます。",
    instr_keys_openai: "変数をエクスポートします：\n`export OPENAI_API_KEY=sk-...`",
    instr_run_title: "Ralphの実行",
    instr_run_step_chmod: "1. スクリプトを実行可能にする:",
    instr_run_step_git: "2. Gitを初期化（アトミックな履歴のため）:",
    instr_run_step_start: "3. ループを開始:",
    instr_workflow_title: "ワークフローループ",
    instr_workflow_body: "1. Ralphは`prd.json`を読み、次の未完了タスクを探します。\n2. `agents.md`を読み、長期コンテキストを取得します。\n3. プロンプトを生成し、**{modelId}**を呼び出します。\n4. 出力を検証します。有効な場合、タスクは完了とマークされます。\n5. すべてのタスクが完了するまで繰り返します。"
  }
};

const outputDictionary: Record<AppLanguage, Record<OutputKey, string>> = {
  [AppLanguage.EN]: enOutput,
  [AppLanguage.IT]: itOutput,
  [AppLanguage.ES]: {
    prd_setup_title: "Configuración del Entorno",
    prd_setup_desc: "Inicializar la estructura y verificar el entorno para",
    prd_criteria_setup: "El script se ejecuta con éxito y muestra confirmación.",
    prd_logic_title: "Implementación del Núcleo",
    prd_logic_desc: "Implementar la funcionalidad principal",
    prd_criteria_logic: "Todas las pruebas pasan y la función principal funciona.",
    agents_mem_intro: "Este archivo sirve como memoria a largo plazo para Ralph. Contiene contexto, decisiones y conocimiento.",
    arch_patterns: "Patrones de Arquitectura",
    gotchas: "Advertencias / Problemas Conocidos",
    proj_context: "Contexto del Proyecto",
    progress_init: "Proyecto Inicializado. Motor:",
    script_start: "Iniciando Bucle Ralph para",
    script_all_passed: "¡Todas las tareas del PRD superadas! Saliendo.",
    script_working: "Ralph está trabajando en la Tarea",
    script_criteria: "Criterios de Aceptación:",
    script_calling: "Llamando a",
    script_manual_check: "¿El agente cumplió con los criterios? (y/n):",
    script_ask_success: "Tarea marcada como ÉXITO.",
    script_complete: "Tarea Completada",
    script_failed: "Tarea FALLIDA. Reintentando...",
    sys_prompt_core_rules: "Reglas Principales",
    sys_prompt_fresh: "Empezar de cero cada vez.",
    sys_prompt_atomic: "Hacer cambios atómicos.",
    sys_prompt_compound: "Conocimiento compuesto.",
    sys_prompt_verification: "Verifica tu salida.",
    sys_intro_std: "Eres un Agente del Bucle Ralph.",
    sys_dev_browser: "Dev Browser: ACTIVADO. HTML/JS/CSS en localhost. Verifica la salida visual.",
    sys_goal_label: "Objetivo",
    sys_model_label: "Modelo",
    task_analysis_title: "Análisis de Documentación",
    task_analysis_desc: "Lee `README.md` y `DESIGN_DOC.md` para extraer requisitos fundamentales y restricciones técnicas.",
    task_analysis_crit: "El agente produce un resumen de requisitos y restricciones en los registros.",
    task_verify_title: "Verificación de Restricciones Técnicas",
    task_verify_desc: "Comprueba si se respeta la restricción 'Monolito' en el Design Doc o si hay patrones de microservicios.",
    task_verify_crit: "Se genera un informe de incumplimiento o confirmación.",
    task_checklist_title: "Generación de Lista de Verificación QA/CI",
    task_checklist_desc: "Genera una lista de 5 controles críticos para el pipeline CI/CD basada en los documentos analizados.",
    task_checklist_crit: "La lista se escribe en un archivo `compliance_checklist.md`.",
    tui_waiting: "Esperando entrada del usuario...",
    tui_agent_act: "Agente Activo",
    tui_all_done: "Todas las Tareas Completadas",
    tui_running: "Ejecutando Tarea",
    tui_err_load: "Error cargando PRD",
    tui_err_json: "Error de Decodificación JSON",
    tui_err_gen: "Error General",
    tui_err_save: "Error al Guardar",
    tui_success_save: "PRD Guardado con Éxito",
    tui_retry: "Reintentando...",
    tui_title: "SISTEMA RALPH TUI",
    sh_start: "Iniciando Ralph TUI...",
    sh_orchestrator_for: "Orquestador de Bucle Ralph para",
    sh_optimized_for: "Optimizado para",
    sh_cli_tool: "Herramienta CLI",
    sh_jq_req: "se requiere jq.",
    sh_install_it: "Por favor instálelo.",
    git_init_commit: "Configuración Inicial de Ralph",
    git_task_commit: "Ralph: Tarea Completada",
    agents_lessons_title: "Lecciones Aprendidas e Inteligencia (Ingeniería Compuesta)",
    agents_lessons_hint: "El agente debe actualizar esta sección en cada iteración",
    agents_gotchas_title: "Gotchas de Arquitectura",
    agents_gotchas_hint: "Notas específicas de arquitectura descubiertas durante el desarrollo",
    agents_init_ctx: "Contexto Inicial y Archivos de Referencia",
    sys_prompt_header: "[PROMPT DEL SISTEMA RALPH]",
    sys_prompt_project: "Proyecto",
    tui_calling_agent: "--- [RALPH LLAMANDO AL AGENTE] ---",
    tui_end_session: "--- [FIN DE LA SESIÓN DEL AGENTE] ---",
    tui_you_are_ralph: "Eres Ralph.",
    tui_context_label: "CONTEXTO",
    tui_task_label: "TAREA",
    tui_criteria_label: "CRITERIOS",
    instr_generated_by: "Generado por Ralph System Generator (Edición 2026)",
    err_google_model: "ERROR: Seleccionó Google Cloud SDK pero el modelo no es de Google.",
    err_claude_model: "ERROR: La CLI de Claude solo admite modelos de Claude.",
    err_manual_setup: "Configure manualmente las claves API de su herramienta CLI específica.",
    err_antigravity_model: "NOTA: En Antigravity/IDX, el uso de un modelo que no sea de Google requiere claves externas.",
    err_manual_call: "LLAMADA REAL AL MODELO - Marcador de posición"
  },
  [AppLanguage.FR]: {
    prd_setup_title: "Configuration de l'Environnement",
    prd_setup_desc: "Initialiser la structure et vérifier l'environnement pour",
    prd_criteria_setup: "Le script s'exécute avec succès et affiche une confirmation.",
    prd_logic_title: "Implémentation Logique",
    prd_logic_desc: "Implémenter la fonctionnalité principale",
    prd_criteria_logic: "Tous les tests passent et la fonctionnalité fonctionne.",
    agents_mem_intro: "Ce fichier sert de mémoire à long terme pour Ralph. Contient le contexte, les décisions et la connaissance.",
    arch_patterns: "Modèles d'Architecture",
    gotchas: "Pièges / Problèmes Connus",
    proj_context: "Contexte du Projet",
    progress_init: "Projet Initialisé. Moteur :",
    script_start: "Démarrage de la Boucle Ralph pour",
    script_all_passed: "Toutes les tâches PRD passées ! Sortie.",
    script_working: "Ralph travaille sur la Tâche",
    script_criteria: "Critères d'Acceptation :",
    script_calling: "Appel de",
    script_manual_check: "L'agent a-t-il satisfait les critères ? (y/n) :",
    script_ask_success: "Tâche marquée SUCCÈS.",
    script_complete: "Tâche Terminée",
    script_failed: "Tâche ÉCHOUÉE. Réessai...",
    sys_prompt_core_rules: "Règles de Base",
    sys_prompt_fresh: "Repartir de zéro à chaque fois.",
    sys_prompt_atomic: "Faire des changements atomiques.",
    sys_prompt_compound: "Connaissance composée.",
    sys_prompt_verification: "Vérifiez votre sortie.",
    sys_intro_std: "Vous êtes un Agent de la Boucle Ralph.",
    sys_dev_browser: "Dev Browser : ACTIVÉ. HTML/JS/CSS sur localhost. Vérifiez la sortie visuelle.",
    sys_goal_label: "Objectif",
    sys_model_label: "Modèle",
    task_analysis_title: "Analyse de la Documentation",
    task_analysis_desc: "Lire `README.md` et `DESIGN_DOC.md` pour extraire les exigences fondamentales et les contraintes techniques.",
    task_analysis_crit: "L'agent produit un résumé des exigences et des contraintes dans les journaux.",
    task_verify_title: "Vérification des Contraintes Techniques",
    task_verify_desc: "Vérifier si la contrainte 'Monolithe' est respectée ou s'il existe des modèles de microservices.",
    task_verify_crit: "Un rapport de non-conformité ou de confirmation est généré.",
    task_checklist_title: "Génération de Checklist QA/CI",
    task_checklist_desc: "Générer une checklist de 5 contrôles critiques pour le pipeline CI/CD basée sur les documents analysés.",
    task_checklist_crit: "La checklist est écrite dans un fichier `compliance_checklist.md`.",
    tui_waiting: "En attente de l'utilisateur...",
    tui_agent_act: "Agent Actif",
    tui_all_done: "Toutes les Tâches Terminées",
    tui_running: "Exécution de la Tâche",
    tui_err_load: "Erreur chargement PRD",
    tui_err_json: "Erreur Décodage JSON",
    tui_err_gen: "Erreur Générale",
    tui_err_save: "Erreur Sauvegarde",
    tui_success_save: "PRD Sauvegardé avec Succès",
    tui_retry: "Réessai...",
    tui_title: "SYSTÈME RALPH TUI",
    sh_start: "Démarrage Ralph TUI...",
    sh_orchestrator_for: "Orchestrateur de Boucle Ralph pour",
    sh_optimized_for: "Optimisé pour",
    sh_cli_tool: "Outil CLI",
    sh_jq_req: "jq est requis.",
    sh_install_it: "Veuillez l'installer.",
    git_init_commit: "Configuration Initiale Ralph",
    git_task_commit: "Ralph : Tâche Terminée",
    agents_lessons_title: "Leçons Apprises & Intelligence (Ingénierie Composée)",
    agents_lessons_hint: "L'agent doit mettre à jour cette section à chaque itération",
    agents_gotchas_title: "Pièges d'Architecture",
    agents_gotchas_hint: "Notes d'architecture spécifiques découvertes lors du développement",
    agents_init_ctx: "Contexte Initial & Fichiers de Référence",
    sys_prompt_header: "[PROMPT SYSTÈME RALPH]",
    sys_prompt_project: "Projet",
    tui_calling_agent: "--- [RALPH APPELLE L'AGENT] ---",
    tui_end_session: "--- [FIN DE LA SESSION DE L'AGENT] ---",
    tui_you_are_ralph: "Vous êtes Ralph.",
    tui_context_label: "CONTEXTE",
    tui_task_label: "TÂCHE",
    tui_criteria_label: "CRITÈRES",
    instr_generated_by: "Généré par Ralph System Generator (Édition 2026)",
    err_google_model: "ERREUR : Vous avez sélectionné Google Cloud SDK mais le modèle n'est pas Google.",
    err_claude_model: "ERREUR : La CLI Claude ne supporte que les modèles Claude.",
    err_manual_setup: "Configurez manuellement les clés API de votre outil CLI spécifique.",
    err_antigravity_model: "NOTE : Dans Antigravity/IDX, l'utilisation d'un modèle non-Google nécessite des clés externes.",
    err_manual_call: "APPEL RÉEL DU MODÈLE - Espace réservé"
  },
  [AppLanguage.DE]: {
    prd_setup_title: "Umgebungseinrichtung",
    prd_setup_desc: "Projektstruktur initialisieren und Umgebung prüfen für",
    prd_criteria_setup: "Skript erfolgreich ausgeführt und Bestätigung gedruckt.",
    prd_logic_title: "Kernlogik Implementierung",
    prd_logic_desc: "Hauptfunktionalität implementieren",
    prd_criteria_logic: "Alle Tests bestanden und Feature funktioniert wie beschrieben.",
    agents_mem_intro: "Diese Datei dient als Langzeitgedächtnis für Ralph. Enthält Kontext, Entscheidungen und Wissensdatenbank.",
    arch_patterns: "Architekturmuster",
    gotchas: "Bekannte Probleme",
    proj_context: "Projektkontext",
    progress_init: "Projekt initialisiert. Engine:",
    script_start: "Starte Ralph-Schleife für",
    script_all_passed: "Alle Aufgaben im PRD bestanden! Beende.",
    script_working: "Ralph arbeitet an Aufgabe",
    script_criteria: "Abnahmekriterien:",
    script_calling: "Aufruf von",
    script_manual_check: "Hat der Agent die Kriterien erfüllt? (y/n):",
    script_ask_success: "Aufgabe als ERFOLGREICH markiert.",
    script_complete: "Aufgabe abgeschlossen",
    script_failed: "Aufgabe FEHLGESCHLAGEN. Wiederholung...",
    sys_prompt_core_rules: "Kernregeln",
    sys_prompt_fresh: "Jedes Mal frisch anfangen.",
    sys_prompt_atomic: "Atomare Änderungen vornehmen.",
    sys_prompt_compound: "Wissen zusammensetzen.",
    sys_prompt_verification: "Überprüfe deine Ausgabe.",
    sys_intro_std: "Du bist ein Ralph-Loop-Agent.",
    sys_dev_browser: "Dev Browser: AKTIVIERT. HTML/JS/CSS auf localhost. Visuelle Ausgabe prüfen.",
    sys_goal_label: "Ziel",
    sys_model_label: "Modell",
    task_analysis_title: "Dokumentationsanalyse",
    task_analysis_desc: "Lesen Sie `README.md` und `DESIGN_DOC.md`, um grundlegende Anforderungen und technische Einschränkungen zu extrahieren.",
    task_analysis_crit: "Der Agent erstellt eine Zusammenfassung der Anforderungen und Einschränkungen in den Protokollen.",
    task_verify_title: "Überprüfung technischer Einschränkungen",
    task_verify_desc: "Prüfen Sie, ob die 'Monolith'-Einschränkung im Design Doc eingehalten wird oder ob Microservice-Muster vorhanden sind.",
    task_verify_crit: "Ein Nichtkonformitäts- oder Bestätigungsbericht wird erstellt.",
    task_checklist_title: "Erstellung der QA/CI-Checkliste",
    task_checklist_desc: "Erstellen Sie eine Checkliste mit 5 kritischen Prüfungen für die CI/CD-Pipeline basierend auf den analysierten Dokumenten.",
    task_checklist_crit: "Die Checkliste wird in eine Datei `compliance_checklist.md` geschrieben.",
    tui_waiting: "Warten auf Benutzereingabe...",
    tui_agent_act: "Agent Aktiv",
    tui_all_done: "Alle Aufgaben erledigt",
    tui_running: "Aufgabe wird ausgeführt",
    tui_err_load: "Fehler beim Laden der PRD",
    tui_err_json: "JSON-Dekodierungsfehler",
    tui_err_gen: "Allgemeiner Fehler",
    tui_err_save: "Fehler beim Speichern",
    tui_success_save: "PRD erfolgreich gespeichert",
    tui_retry: "Wiederholung...",
    tui_title: "RALPH SYSTEM TUI",
    sh_start: "Starte Ralph TUI...",
    sh_orchestrator_for: "Ralph Loop Orchestrator für",
    sh_optimized_for: "Optimiert für",
    sh_cli_tool: "CLI-Tool",
    sh_jq_req: "jq ist erforderlich.",
    sh_install_it: "Bitte installieren Sie es.",
    git_init_commit: "Initiales Ralph-Setup",
    git_task_commit: "Ralph: Aufgabe abgeschlossen",
    agents_lessons_title: "Gelernte Lektionen & Intelligenz (Compound Engineering)",
    agents_lessons_hint: "Der Agent muss diesen Abschnitt bei jeder Iteration aktualisieren",
    agents_gotchas_title: "Architektur-Besonderheiten",
    agents_gotchas_hint: "Spezifische Architekturnotizen, die während der Entwicklung entdeckt wurden",
    agents_init_ctx: "Initialer Kontext & Referenzdateien",
    sys_prompt_header: "[RALPH SYSTEM PROMPT]",
    sys_prompt_project: "Projekt",
    tui_calling_agent: "--- [RALPH RUFT AGENT AN] ---",
    tui_end_session: "--- [ENDE DER AGENTEN-SITZUNG] ---",
    tui_you_are_ralph: "Du bist Ralph.",
    tui_context_label: "KONTEXT",
    tui_task_label: "AUFGABE",
    tui_criteria_label: "KRITERIEN",
    instr_generated_by: "Generiert von Ralph System Generator (Edition 2026)",
    err_google_model: "FEHLER: Sie haben Google Cloud SDK ausgewählt, aber das Modell ist nicht von Google.",
    err_claude_model: "FEHLER: Claude CLI unterstützt nur Claude-Modelle.",
    err_manual_setup: "Konfigurieren Sie die API-Schlüssel Ihres spezifischen CLI-Tools manuell.",
    err_antigravity_model: "HINWEIS: In Antigravity/IDX erfordert die Verwendung eines Nicht-Google-Modells externe Schlüssel.",
    err_manual_call: "TATSÄCHLICHER MODELLAUFRUF - Platzhalter"
  },
  [AppLanguage.PT]: {
    prd_setup_title: "Configuração do Ambiente",
    prd_setup_desc: "Inicializar estrutura e verificar ambiente para",
    prd_criteria_setup: "O script é executado com sucesso e imprime confirmação.",
    prd_logic_title: "Implementação da Lógica",
    prd_logic_desc: "Implementar a funcionalidade principal",
    prd_criteria_logic: "Todos os testes passam e o recurso funciona.",
    agents_mem_intro: "Este arquivo serve como memória de longo prazo para Ralph. Contém contexto, decisões e base de conhecimento.",
    arch_patterns: "Padrões de Arquitetura",
    gotchas: "Problemas Conhecidos",
    proj_context: "Contexto do Projeto",
    progress_init: "Projeto Inicializado. Motor:",
    script_start: "Iniciando Loop Ralph para",
    script_all_passed: "Todas as tarefas no PRD superadas! Saindo.",
    script_working: "Ralph está trabalhando na Tarefa",
    script_criteria: "Critérios de Aceitação:",
    script_calling: "Chamando",
    script_manual_check: "O agente satisfez os critérios? (y/n):",
    script_ask_success: "Tarefa marcada como SUCESSO.",
    script_complete: "Tarefa Concluída",
    script_failed: "Tarefa FALHOU. Tentando novamente...",
    sys_prompt_core_rules: "Regras Principais",
    sys_prompt_fresh: "Começar do zero sempre.",
    sys_prompt_atomic: "Fazer mudanças atômicas.",
    sys_prompt_compound: "Conhecimento composto.",
    sys_prompt_verification: "Verifique sua saída.",
    sys_intro_std: "Você é um Agente do Loop Ralph.",
    sys_dev_browser: "Dev Browser: ATIVADO. HTML/JS/CSS no localhost. Verifique a saída visual.",
    sys_goal_label: "Objetivo",
    sys_model_label: "Modelo",
    task_analysis_title: "Análise de Documentação",
    task_analysis_desc: "Leia `README.md` e `DESIGN_DOC.md` para extrair requisitos fundamentais e restrições técnicas.",
    task_analysis_crit: "O agente produz um resumo dos requisitos e restrições nos logs.",
    task_verify_title: "Verificação de Restrições Técnicas",
    task_verify_desc: "Verifique se a restrição 'Monolito' no Design Doc é respeitada ou se há padrões de microserviços.",
    task_verify_crit: "Um relatório de não conformidade ou confirmação é gerado.",
    task_checklist_title: "Geração de Checklist QA/CI",
    task_checklist_desc: "Gere um checklist de 5 verificações críticas para o pipeline CI/CD com base nos documentos analisados.",
    task_checklist_crit: "O checklist é gravado em um arquivo `compliance_checklist.md`.",
    tui_waiting: "Aguardando entrada do usuário...",
    tui_agent_act: "Agente Active",
    tui_all_done: "Todas as Tarefas Concluídas",
    tui_running: "Executando Tarefa",
    tui_err_load: "Erro ao carregar PRD",
    tui_err_json: "Erro de Decodificação JSON",
    tui_err_gen: "Erro Geral",
    tui_err_save: "Erro ao Salvar",
    tui_success_save: "PRD Salvo com Sucesso",
    tui_retry: "Repetindo...",
    tui_title: "SISTEMA RALPH TUI",
    sh_start: "Iniciando Ralph TUI...",
    sh_orchestrator_for: "Orquestrador de Loop Ralph para",
    sh_optimized_for: "Otimizado para",
    sh_cli_tool: "Ferramenta CLI",
    sh_jq_req: "jq é necessário.",
    sh_install_it: "Por favor instale-o.",
    git_init_commit: "Configuração Inicial do Ralph",
    git_task_commit: "Ralph: Tarefa Concluída",
    agents_lessons_title: "Lições Aprendidas & Inteligência (Engenharia Composta)",
    agents_lessons_hint: "O agente deve atualizar esta seção a cada iteração",
    agents_gotchas_title: "Gotchas de Arquitetura",
    agents_gotchas_hint: "Notas específicas de arquitetura descobertas durante o desenvolvimento",
    agents_init_ctx: "Contexto Inicial & Arquivos de Referência",
    sys_prompt_header: "[PROMPT DO SISTEMA RALPH]",
    sys_prompt_project: "Projeto",
    tui_calling_agent: "--- [RALPH CHAMANDO AGENTE] ---",
    tui_end_session: "--- [FIM DA SESSÃO DO AGENTE] ---",
    tui_you_are_ralph: "Você é Ralph.",
    tui_context_label: "CONTEXTO",
    tui_task_label: "TAREFA",
    tui_criteria_label: "CRITÉRIOS",
    instr_generated_by: "Gerado pelo Ralph System Generator (Edição 2026)",
    err_google_model: "ERRO: Você selecionou o Google Cloud SDK, mas o modelo não é do Google.",
    err_claude_model: "ERRO: A CLI do Claude suporta apenas modelos Claude.",
    err_manual_setup: "Configure manualmente as chaves API da sua ferramenta CLI específica.",
    err_antigravity_model: "NOTA: No Antigravity/IDX, o uso de un modelo que não seja do Google requer chaves externas.",
    err_manual_call: "CHAMADA REAL DO MODELO - Espaço reservado"
  },
  [AppLanguage.ZH]: {
    prd_setup_title: "环境配置",
    prd_setup_desc: "初始化项目结构并验证环境：",
    prd_criteria_setup: "脚本成功运行并打印确认信息。",
    prd_logic_title: "核心逻辑实现",
    prd_logic_desc: "实现主要功能",
    prd_criteria_logic: "所有测试通过且功能按描述运行。",
    agents_mem_intro: "此文件作为 Ralph 的长期记忆。包含上下文、决策和知识库。",
    arch_patterns: "架构模式",
    gotchas: "已知问题",
    proj_context: "项目上下文",
    progress_init: "项目已初始化。引擎：",
    script_start: "启动 Ralph 循环：",
    script_all_passed: "PRD 中的所有任务均已通过！退出。",
    script_working: "Ralph 正在处理任务",
    script_criteria: "验收标准：",
    script_calling: "调用",
    script_manual_check: "代理是否满足标准？(y/n):",
    script_ask_success: "任务标记为成功。",
    script_complete: "任务已完成",
    script_failed: "任务失败。正在重试...",
    sys_prompt_core_rules: "核心规则",
    sys_prompt_fresh: "每次都从头开始。",
    sys_prompt_atomic: "进行原子级更改。",
    sys_prompt_compound: "复合知识。",
    sys_prompt_verification: "验证您的输出。",
    sys_intro_std: "您是 Ralph 循环代理。",
    sys_dev_browser: "开发浏览器：已启用。假设 HTML/JS/CSS 在 localhost 渲染。验证视觉输出。",
    sys_goal_label: "目标",
    sys_model_label: "模型",
    task_analysis_title: "文档分析",
    task_analysis_desc: "阅读 `README.md` 和 `DESIGN_DOC.md` 以提取基本要求和技术约束。",
    task_analysis_crit: "代理在日志中生成要求和约束的摘要。",
    task_verify_title: "技术约束验证",
    task_verify_desc: "检查 Design Doc 中的“单体”约束是否得到遵守，或是否存在微服务模式。",
    task_verify_crit: "生成不合规或确认报告。",
    task_checklist_title: "QA/CI 清单生成",
    task_checklist_desc: "根据分析的文档，为 CI/CD 流水线生成包含 5 项关键检查的清单。",
    task_checklist_crit: "清单写入 `compliance_checklist.md` 文件。",
    tui_waiting: "等待用户输入...",
    tui_agent_act: "代理活动中",
    tui_all_done: "所有任务已完成",
    tui_running: "正在运行任务",
    tui_err_load: "加载 PRD 出错",
    tui_err_json: "JSON 解码错误",
    tui_err_gen: "常规错误",
    tui_err_save: "保存出错",
    tui_success_save: "PRD 保存成功",
    tui_retry: "正在重试...",
    tui_title: "RALPH 系统 TUI",
    sh_start: "启动 Ralph TUI...",
    sh_orchestrator_for: "Ralph 循环编排器 - ",
    sh_optimized_for: "针对性优化：",
    sh_cli_tool: "CLI 工具",
    sh_jq_req: "需要 jq。",
    sh_install_it: "请安装它。",
    git_init_commit: "初始 Ralph 设置",
    git_task_commit: "Ralph：任务已完成",
    agents_lessons_title: "经验教训与情报 (复合工程)",
    agents_lessons_hint: "代理必须在每次迭代时更新此部分",
    agents_gotchas_title: "架构注意事项",
    agents_gotchas_hint: "开发过程中发现的特定架构说明",
    agents_init_ctx: "初始上下文和参考文件",
    sys_prompt_header: "[RALPH 系统提示词]",
    sys_prompt_project: "项目",
    tui_calling_agent: "--- [RALPH 正在调用代理] ---",
    tui_end_session: "--- [代理会话结束] ---",
    tui_you_are_ralph: "你是 Ralph。",
    tui_context_label: "上下文",
    tui_task_label: "任务",
    tui_criteria_label: "标准",
    instr_generated_by: "由 Ralph 系统生成器生成 (2026 版)",
    err_google_model: "错误：您选择了 Google Cloud SDK，但模型不是 Google。",
    err_claude_model: "错误：Claude CLI 仅支持 Claude 模型。",
    err_manual_setup: "请手动配置特定 CLI 工具的 API 密钥。",
    err_antigravity_model: "注意：在 Antigravity/IDX 中，使用非 Google 模型需要外部密钥。",
    err_manual_call: "实际模型调用 - 占位符"
  },
  [AppLanguage.JA]: {
    prd_setup_title: "環境セットアップ",
    prd_setup_desc: "プロジェクト構造を初期化し、環境を確認します：",
    prd_criteria_setup: "スクリプトが正常に実行され、確認メッセージが表示されること。",
    prd_logic_title: "コアロジックの実装",
    prd_logic_desc: "主要な機能を実装します",
    prd_criteria_logic: "すべてのテストに合格し、機能が記述通りに動作すること。",
    agents_mem_intro: "このファイルは Ralph の長期記憶として機能します。コンテキスト、決定、知識ベースが含まれます。",
    arch_patterns: "アーキテクチャパターン",
    gotchas: "注意点 / 既知の問題",
    proj_context: "プロジェクトコンテキスト",
    progress_init: "プロジェクトが初期化されました。エンジン:",
    script_start: "Ralphループを開始します:",
    script_all_passed: "PRDのすべてのタスクに合格しました！終了します。",
    script_working: "Ralphがタスクを処理中:",
    script_criteria: "受け入れ基準:",
    script_calling: "呼び出し中:",
    script_manual_check: "エージェントは基準を満たしましたか？ (y/n):",
    script_ask_success: "タスクを成功としてマークしました。",
    script_complete: "タスク完了",
    script_failed: "タスク失敗。再試行中...",
    sys_prompt_core_rules: "コアルール",
    sys_prompt_fresh: "毎回フレッシュに開始すること。",
    sys_prompt_atomic: "アトミックな変更を行うこと。",
    sys_prompt_compound: "知識を合成すること。",
    sys_prompt_verification: "出力を検証すること。",
    sys_intro_std: "あなたは Ralph ループエージェントです。",
    sys_dev_browser: "Dev Browser: 有効。HTML/JS/CSSがlocalhostでレンダリングされていると想定してください。視覚的な出力を確認してください。",
    sys_goal_label: "目標",
    sys_model_label: "モデル",
    task_analysis_title: "ドキュメント分析",
    task_analysis_desc: "`README.md` と `DESIGN_DOC.md` を読み取り、基本的な要件と技術的制約を抽出します。",
    task_analysis_crit: "エージェントは、ログに要件と制約の要約を生成します。",
    task_verify_title: "技術的制約の検証",
    task_verify_desc: "Design Doc の「モノリス」制約が守られているか、またはマイクロサービスパターンがないかを確認します。",
    task_verify_crit: "不適合または確認レポートが生成されます。",
    task_checklist_title: "QA/CI チェックリストの生成",
    task_checklist_desc: "分析されたドキュメントに基づいて、CI/CD パイプラインの 5 つの重要なチェック項目を含むチェックリストを生成します。",
    task_checklist_crit: "チェックリストは `compliance_checklist.md` ファイルに書き込まれます。",
    tui_waiting: "ユーザー入力を待機中...",
    tui_agent_act: "エージェントアクティブ",
    tui_all_done: "すべてのタスクが完了しました",
    tui_running: "タスクを実行中",
    tui_err_load: "PRDの読み込みエラー",
    tui_err_json: "JSONデコードエラー",
    tui_err_gen: "一般的なエラー",
    tui_err_save: "保存エラー",
    tui_success_save: "PRDが正常に保存されました",
    tui_retry: "再試行中...",
    tui_title: "RALPH システム TUI",
    sh_start: "Ralph TUIを起動中...",
    sh_orchestrator_for: "Ralphループオーケストレーター: ",
    sh_optimized_for: "最適化対象: ",
    sh_cli_tool: "CLIツール",
    sh_jq_req: "jqが必要です。",
    sh_install_it: "インストールしてください。",
    git_init_commit: "Ralph初期設定",
    git_task_commit: "Ralph: タスク完了",
    agents_lessons_title: "教訓とインテリジェンス (複合エンジニアリング)",
    agents_lessons_hint: "エージェントは反復ごとにこのセクションを更新する必要があります",
    agents_gotchas_title: "アーキテクチャの注意点",
    agents_gotchas_hint: "開発中に発見された特定のアーキテクチャメモ",
    agents_init_ctx: "初期コンテキストと参照ファイル",
    sys_prompt_header: "[RALPH システムプロンプト]",
    sys_prompt_project: "プロジェクト",
    tui_calling_agent: "--- [RALPHがエージェントを呼び出し中] ---",
    tui_end_session: "--- [エージェントセッション終了] ---",
    tui_you_are_ralph: "あなたは Ralph です。",
    tui_context_label: "コンテキスト",
    tui_task_label: "タスク",
    tui_criteria_label: "基準",
    instr_generated_by: "Ralph System Generator (2026年版) により生成",
    err_google_model: "エラー: Google Cloud SDKを選択しましたが、モデルがGoogleではありません。",
    err_claude_model: "エラー: Claude CLIはClaudeモデルのみをサポートしています。",
    err_manual_setup: "特定のCLIツールのAPIキーを手動で設定してください。",
    err_antigravity_model: "注意：Antigravity/IDXでGoogle以外のモデルを使用するには外部キーが必要です。",
    err_manual_call: "実際のモデル呼び出し - プレースホルダー"
  },
};

export const getUiText = (lang: AppLanguage, key: TranslationKey): string => {
  return uiDictionary[lang]?.[key] || uiDictionary[AppLanguage.EN][key];
};

export const getOutputText = (lang: AppLanguage, key: OutputKey): string => {
  return outputDictionary[lang]?.[key] || outputDictionary[AppLanguage.EN][key];
};

export const getInstructionText = (lang: AppLanguage, key: InstructionKey): string => {
  return instructionDictionary[lang]?.[key] || instructionDictionary[AppLanguage.EN][key];
};

export const getInterfaceLabel = (lang: AppLanguage, type: InterfaceType): string => {
  const t = (k: TranslationKey) => getUiText(lang, k);
  switch (type) {
    case InterfaceType.BASH_BASIC: return t('iface_bash');
    case InterfaceType.TUI: return t('iface_tui');
    default: return type;
  }
}

export const getCliToolLabel = (lang: AppLanguage, tool: CliTool): string => {
  const t = (k: TranslationKey) => getUiText(lang, k);
  switch (tool) {
    case CliTool.MANUAL: return t('tool_manual');
    case CliTool.ANTIGRAVITY: return t('tool_antigravity');
    case CliTool.LLM_CLI: return t('tool_llm');
    case CliTool.GCLOUD: return t('tool_gcloud');
    case CliTool.OLLAMA: return t('tool_ollama');
    case CliTool.CLAUDE_CLI: return t('tool_claude');
    case CliTool.OPENAI_CLI: return t('tool_openai');
    default: return tool;
  }
}